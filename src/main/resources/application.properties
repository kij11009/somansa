# Application Info
spring.application.name=k8s-doctor
server.port=8080

# OpenRouter Configuration
openrouter.api-url=https://openrouter.ai/api/v1/chat/completions
openrouter.api-key=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
openrouter.model=openai/gpt-4o-mini
openrouter.timeout=30000
openrouter.max-tokens=800
openrouter.temperature=0.7

# AI Diagnosis Settings (토큰 최적화)
ai.diagnosis.enabled=true
ai.diagnosis.min-severity=MEDIUM
ai.diagnosis.cache-enabled=true
ai.diagnosis.cache-ttl-minutes=60

# Kubernetes Client
kubernetes.client.request-timeout=30000
kubernetes.client.connection-timeout=10000

# Thymeleaf
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

# Logging
logging.level.root=INFO
logging.level.com.vibecoding.k8sdoctor=DEBUG
logging.level.io.fabric8.kubernetes.client=WARN
logging.level.org.springframework.web.servlet.resource.ResourceHttpRequestHandler=WARN

# Favicon (disable default favicon handling to avoid 404 errors)
spring.mvc.favicon.enabled=false

# Cache
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=100,expireAfterWrite=300s

# Database (H2)
spring.datasource.url=jdbc:h2:file:./data/k8s-doctor
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Cluster Auto-Refresh (on page load)
# Minimum interval between refreshes in minutes (default: 1 minute)
cluster.auto-refresh.min-interval=1
